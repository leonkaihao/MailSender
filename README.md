# MailSender
MailSender can be used for sending emails by different providers.
It is implemented with NodeJS 10.*, AngularJS 1.7.* and ExpressJS.

## Build
$[unpack source code]
$cd [ROOT Folder]
$npm install
done
## Run
$npm start
[open a local brower and access http://localhost:3000]
## Test
$npm test

## Serverside api info
1. POST /api/sessions
body => {}
success resp => 200 {source: string, token: string}
fail resp => 400 {source: string, message: string}

Session is important because client status needs to be stored in session.
A token is corresponding to a session, generated by uuid.

2. GET /api/session?token=STRING
success resp => 200 {source: string}
fail resp => 404 {source: "string, code: string, message: string}

It is used for verifing if a session is expired or not exist.

3. GET /api/mails/providers?token=STRING
success resp => 200 {source: string, data: array}
    data item: string
fail resp => 404 {source: string, code: string, message: string}

It is used for getting the mail providers' list for futher configuration.

3. POST /api/mails/senders?token=STRING
body => {senders: array}
    senders item: {name: string, apiKey: string, domain: string}
success resp => 200 {source: string}
fail resp => 404 {source: string, code: string, message: string}

It is used for updating senders' information.

4. POST /api/mails
body => {from:string, to:string, cc:string, bcc:string, subject:string, text:string}
success resp => 200 {source: string, data: string}
fail resp => 404 {source: string, code: string, message: string, data: string}
    data field is information includes what providers have been passed through a sending process.

It is used for sending email.

## Source code organisation
root
-- controllers         Transaction handlers, they will invoke services folder and return http response package.
-- services            Basic function of a simple service, include session and mail methods.
-- views               Partial pages of front end
-- routes              Web server route handler; distinguish asset requests and api requests.
-- app.js              Nodejs main entrance.
-- public
   -- ng               AngularJS single page application
      -- controllers   Deal with web UI logic
      -- services      Basic net access components.
      -- app.js        Angular main entrance.
